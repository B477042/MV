{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/RS_ArabicNameEdit/Window_ArabicNameEdit.js","webpack:///./lib/RS_ArabicNameEdit/Window_ArabicNameInput.js","webpack:///./lib/RS_ArabicNameEdit/parameters.js","webpack:///./lib/RS_ArabicNameEdit/core.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Window_ArabicNameEdit","actor","maxLength","Window_NameEdit","this","_actorSprite","Sprite","visible","_windowContentsSprite","addChild","navigator","language","match","RS","ArabicNameEdit","Params","fontFace","textWidth","padding","textPadding","width","contents","faceWidth","Window_Base","_faceWidth","_actor","faceName","Rectangle","right","lineHeight","text","String","ch","_index","_maxLength","_name","refresh","makeText","rect","color","underlineColor","paintOpacity","fillRect","x","y","height","resetTextColor","drawText","faceIndex","w","h","_faceHeight","bitmap","ImageManager","loadFace","setFrame","Math","floor","clear","itemRect2","createActorFace","drawActorFace2","round","drawUnderline2","drawArabicText","window","Window_NameInput","ARABIC1","ARABIC2","Window_ArabicNameInput","parameters","$plugins","filter","description","contains","length","Imported","RS_ArabicNameEdit","jsonParse","str","JSON","parse","k","v","$","e"],"mappings":"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","file":"RS_ArabicNameEdit.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","\r\nclass Window_ArabicNameEdit extends Window_NameEdit {\r\n\r\n    constructor(actor, maxLength) {\r\n        super(actor, maxLength);\r\n    }\r\n\r\n    createActorFace() {\r\n        this._actorSprite = new Sprite();\r\n        this._actorSprite.visible = false;\r\n        \r\n        this._windowContentsSprite.addChild(this._actorSprite);\r\n    }\r\n\r\n    standardFontFace() {\r\n        if(!navigator.language.match(/^ar/)) {\r\n            return super.standardFontFace();\r\n        }\r\n\r\n        return RS.ArabicNameEdit.Params.fontFace;\r\n    }\r\n\r\n    /**\r\n     * @param {Number} textWdith \r\n     */\r\n    right(textWidth) {\r\n        let padding = this.textPadding();\r\n        let width = this.contents.width - padding;\r\n\r\n        let faceWidth = Window_Base._faceWidth;\r\n\r\n        if(this._actor.faceName() !== \"\") {\r\n            width -= faceWidth;\r\n        }\r\n\r\n        return width;\r\n\r\n    }\r\n\r\n    itemRect2(textWidth) {\r\n        return new Rectangle( this.right(textWidth), 54, 42, this.lineHeight());\r\n    }\r\n\r\n    makeText(text) { \r\n        return String(\"\\u202B\" + text);\r\n    };\r\n\r\n    add(ch) {\r\n        if (this._index < this._maxLength) {\r\n            this._name += ch;\r\n            this._index++;\r\n            this.refresh();\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }            \r\n    }\r\n\r\n    name() {\r\n        return this.makeText(this._name);\r\n    }\r\n\r\n    drawUnderline2(rect, textWidth) {\r\n        var color = this.underlineColor();\r\n        this.contents.paintOpacity = 96;\r\n        this.contents.fillRect(rect.x, rect.y + rect.height - 4, textWidth, 2, color);\r\n        this.contents.paintOpacity = 255;\r\n    }\r\n\r\n    drawArabicText(rect, text) {\r\n        this.resetTextColor();            \r\n        this.drawText(text, rect.x, rect.y);    \r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {Rectangle} rect \r\n     */\r\n    drawActorFace2(rect) {\r\n\r\n        const faceName = this._actor.faceName();\r\n        \r\n        if(faceName == null || faceName == \"\") {\r\n            return;\r\n        }\r\n\r\n        const faceIndex = this._actor.faceIndex();\r\n        const w = Window_Base._faceWidth;\r\n        const h = Window_Base._faceHeight;\r\n        const cols = 4;\r\n\r\n        this._actorSprite.bitmap = ImageManager.loadFace(faceName);\r\n\r\n        this._actorSprite.setFrame(\r\n            w * (faceIndex % cols),\r\n            h * Math.floor(faceIndex / cols),\r\n            w, \r\n            h\r\n        );\r\n\r\n        this._actorSprite.x = rect.x;\r\n        this._actorSprite.visible = true;\r\n\r\n    }\r\n\r\n    refresh() {\r\n        this.contents.clear();\r\n\r\n        // Make an arabic text\r\n        var text = this.makeText(this._name || '');\r\n        var textWidth = this.textWidth(text);\r\n\r\n        var rect = this.itemRect2(textWidth);\r\n        \r\n        if(!this._actorSprite) {\r\n            this.createActorFace();                \r\n        }\r\n\r\n        this.drawActorFace2(rect);\r\n        rect.x -= Math.round(textWidth);\r\n        this.drawUnderline2(rect, textWidth);\r\n        this.drawArabicText(rect, text);\r\n    \r\n    }\r\n}\r\n\r\nwindow.Window_NameEdit = Window_ArabicNameEdit;","Window_NameInput.ARABIC1 = [ \r\n    '١','٢','٣','٤','٥',  '٦','٧','٨','٩','٠',\r\n   'ذ','د','خ','ح','ج',  'ث','ت','ب','أ','ا',\r\n   'غ','ع','ظ','ط','ض',  'ص','ش','س','ز','ر',\r\n   'ي','ؤ','و','ه','ن',  'م','ل','ك','ق','ف',\r\n   '','','','ـ','ئ',  'ى','ة','آ','إ','ء',\r\n   '~','!','@','#','$',  '%','^','&','*','(',\r\n   ')','_','+','=','-',   '','','','','',\r\n   '','','','','',   '','','','','',\r\n   ' ',' ',' ',' ',' ',  ' ',' ',' ','Page','OK' \r\n];\r\n\r\nWindow_NameInput.ARABIC2 = [ \r\n   '0','1','2','3','4',   '5','6','7','8','9',\r\n   'A','B','C','D','E',  'a','b','c','d','e',\r\n   'F','G','H','I','J',  'f','g','h','i','j',\r\n   'K','L','M','N','O',  'k','l','m','n','o',\r\n   'P','Q','R','S','T',  'p','q','r','s','t',\r\n   'U','V','W','X','Y',  'u','v','w','x','y',\r\n   'Z','','','','',  'z','','','','',\r\n   ' ',' ',' ',' ',' ',  ' ',' ',' ',' ',' ',\r\n   ' ',' ',' ',' ',' ',  ' ',' ',' ','Page','OK' \r\n];      \r\n\r\nclass Window_ArabicNameInput extends Window_NameInput {\r\n\r\n    standardFontFace() {\r\n        if(!navigator.language.match(/^ar/)) {\r\n            return super.standardFontFace();\r\n        }\r\n\r\n        return RS.ArabicNameEdit.Params.fontFace;\r\n    }\r\n\r\n    table() {\r\n        return [Window_NameInput.ARABIC1,\r\n            Window_NameInput.ARABIC2];            \r\n    }\r\n\r\n}\r\n\r\nwindow.Window_NameInput = Window_ArabicNameInput;","var parameters = $plugins.filter(function (i) {\r\n    return i.description.contains('<RS_ArabicNameEdit>');\r\n});\r\n\r\nparameters = (parameters.length > 0) && parameters[0].parameters;\r\n\r\nexport default parameters;","window.Imported = Imported || {};\r\nImported.RS_ArabicNameEdit = true;\r\n\r\nwindow.RS = window.RS || {};\r\nRS.ArabicNameEdit = window.RS.ArabicNameEdit || {};\r\n\r\nimport parameters from \"./parameters\";\r\n\r\nRS.ArabicNameEdit.jsonParse = function (str) {\r\n    var retData = JSON.parse(str, function (k, v) {\r\n        try { return $.jsonParse(v); } catch (e) { return v; }\r\n    });\r\n    return retData;\r\n};\r\n\r\nRS.ArabicNameEdit.Params = {};\r\nRS.ArabicNameEdit.Params.fontFace = parameters[\"Font\"] || \"GameFont\";"],"sourceRoot":""}