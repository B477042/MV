<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>URL Converter</title>
    <style media="screen">
    .b1 {
      font-family: arial;
      color: #E0E0E0 !important;
      font-size: 23px;
      text-shadow: 1px 1px 0px #7CACDE;
      box-shadow: 1px 0px 0px #A593E0;
      padding: 7px 28px;
      -moz-border-radius: 10px;
      -webkit-border-radius: 10px;
      border-radius: 10px;
      border: 1px dashed #FFFFF3;
      background: #63B8EE;
      background: linear-gradient(top,  #566270,  #E0E3DA);
      background: -ms-linear-gradient(top,  #566270,  #E0E3DA);
      background: -webkit-gradient(linear, left top, left bottom, from(#566270), to(#E0E3DA));
      background: -moz-linear-gradient(top,  #566270,  #E0E3DA);
      width: 100%;
    }
    .b1:hover {
      color: #14396A !important;
      background: #468CCF;
      background: linear-gradient(top,  #468CCF,  #63B8EE);
      background: -ms-linear-gradient(top,  #468CCF,  #63B8EE);
      background: -webkit-gradient(linear, left top, left bottom, from(#468CCF), to(#63B8EE));
      background: -moz-linear-gradient(top,  #468CCF,  #63B8EE);
      width: 100%;
    }
    .t {
      width: 100%;
      box-shadow:-1px 2px 5px #C5DECE;
    }
    .main {
      width: 50%;
      box-shadow:-1px 2px 5px #C5DECE;
    }
    </style>
    <div class="main">
      <div>
        <input type='text' id='t1' class='t' placeholder= "Input">
      </div>
      <div>
        <input type='text' id='t2' class='t' placeholder= "Output" >
      </div>
      <div class="">
        <button id="b1" class="b1" type="button">Convert</button>
      </div>
      <div id="resultView">
      </div>
    </div>

  </head>
  <body>
    <script src="http://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script type="text/javascript">

    function parseUrl(preUrl) {
      var previousUrl = new URL(preUrl);
      var newParam = previousUrl.search.slice(1).slice(/%2Ftopic%2F[\d]+.{1}(.+)/i).slice(0, -1).replace("/topic/", "");
      var postName = newParam.split(/[\d]+.{1}/)[1];
      var postNumber = newParam.match(/[\d]+/)[0];
      var newUrl = `http://forums.rpgmakerweb.com/index.php?threads/${postName}.${postNumber}/`;
      return newUrl;
    }

    (function($){

    $.fn.extend({
            center: function () {
                return this.each(function() {
                    var top = ($(window).height() - $(this).outerHeight()) / 2;
                    var left = ($(window).width() - $(this).outerWidth()) / 2;
                    $(this).css({position:'absolute', margin:0, top: (top > 0 ? top : 0)+'px', left: (left > 0 ? left : 0)+'px'});
                });
            }
        });
    })(jQuery);

    $(".main").center();

    $('#t1').focus();

    $("#b1").click(function() {
	  $("#t2").val(parseUrl($('#t1').val()));
      $("#resultView").append(`<div><a href="${$('#t2').val()}">${$('#t2').val()}</a></div>`);
      <!-- if($('#t1').val() !== "") { -->
        <!-- location.href = parseUrl($('#t1').val()) -->
      <!-- } -->
    });

    </script>
  </body>
</html>
